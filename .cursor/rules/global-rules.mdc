---
alwaysApply: true
---

# Global Rules

## Tech Stack

- Bun
- Next.js 15
- TypeScript
- Tailwind CSS
- Shadcn/ui
- Prisma
- Zod
- streamdown
- lucide-react

## Runtime

- Node.js in docker container

## Frontend & Backend Communication

- Force to use client components in frontend
- Use Next.js route to provide backend APIs
- Maintain each API client in a separate file in `api-clients` folder

## UI Components

- Use `@/components/ui` atomic components
- Do not use `@/components/ui/card` unless I ask for it
- Use `@/components/ai-elements` for AI components

## Custom Components

- Split components into smaller files following best practices
- Avoid barrel exports

## Import Conventions

- Use `@/` prefix for internal imports
- Use `import type` for type-only imports

## Use SWR to fetch data

```ts
import useSWR, { mutate } from "swr"
import { getUserInfo, getUserInfoKey } from "@/clients/user/get-user-info"

// In component
const { data, error, isLoading } = useSWR(
  getUserInfoKey(id),
  () => getUserInfo(id)
  // DO NOT add custom options, already added in the global config
)
// Refresh in other places: mutate(getUserInfoKey(id))
```

## Quality Standards

- Ensure `bun run build` pass after any changes
